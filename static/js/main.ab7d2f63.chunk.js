(window["webpackJsonpstat-roller"]=window["webpackJsonpstat-roller"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),s=(a(14),a(15),a(2)),i=a(3),c=a(6),u=a(4),d=a(5),p=a(1);var h=function(e){return r.a.createElement("div",{id:e.id,className:e.className,draggable:e.draggable,onDragStart:function(e){e.dataTransfer.setData("src",e.target.id)},onDragOver:function(e){e.preventDefault()}},r.a.createElement("p",{className:"roll"},e.roll),r.a.createElement("p",{className:"lab"},e.id.toUpperCase()))},f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={rolls:a.props.appState.rolls},a.genMethod="4d6 Drop Lowest",a.drop=a.drop.bind(Object(p.a)(a)),a.rollStats=a.rollStats.bind(Object(p.a)(a)),a.handleClick=a.handleClick.bind(Object(p.a)(a)),a.handleMouseEnter=a.handleMouseEnter.bind(Object(p.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"drop",value:function(e){e.preventDefault();var t=document.getElementById(e.dataTransfer.getData("src")),a=e.target.parentElement,n=t.id,r=a.id,o=this.props.appState.rolls[r],l=this.props.appState.rolls[n];this.props.appState.setRoll(r,l),this.props.appState.setRoll(n,o),this.setState({rolls:this.props.appState.rolls})}},{key:"rollStats",value:function(e){this.props.appState.roll(this.genMethod),this.setState({rolls:this.props.appState.rolls})}},{key:"handleMouseEnter",value:function(e){document.getElementById("gradient").style.top="30px"}},{key:"handleMouseLeave",value:function(e){document.getElementById("gradient").style.top=""}},{key:"handleClick",value:function(e){document.getElementById("active").id="",this.genMethod=e.target.firstChild.textContent,e.target.id="active"}},{key:"render",value:function(){var e=[],t=this.props.appState.rolls;for(var a in t)e.push(r.a.createElement(h,{id:a,key:a,className:"ability",draggable:"true",roll:t[a],appState:this.props.appState}));return r.a.createElement("div",{className:this.props.className,id:this.props.id,onDrop:this.drop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e,r.a.createElement("div",{className:"button-div"},r.a.createElement("button",{className:"roll-button",onClick:this.rollStats},"Roll")),r.a.createElement("div",{className:"button-div select"},r.a.createElement("button",{id:"active",onClick:this.handleClick},"4d6 Drop Lowest"),r.a.createElement("button",{onClick:this.handleClick},"3d6"),r.a.createElement("button",{onClick:this.handleClick},"Critical Role"),r.a.createElement("button",{onClick:this.handleClick},"1d20")),r.a.createElement("div",{className:"gradient",id:"gradient"}))}}]),t}(n.Component),m=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout"},r.a.createElement(f,{className:"panel",id:"panel-1",appState:this.props.appState}))}}]),t}(n.Component);function v(e){return Math.ceil(Math.random()*e)}function b(){for(var e=[],t=0;t<3;t++)e.push(v(6));return{sum:function(e){return e.reduce(function(e,t){return e+t},0)}(e),dice:e}}function g(){var e=[];return e.push(v(20)),{sum:e[0],dice:e}}function k(){for(var e=[],t=6,a=0,n=0;n<4;n++){var r=v(6);r<t&&(t=r,a=n),e.push(r)}var o=e.splice(a,1),l=function(e){return e.reduce(function(e,t){return e+t},0)}(e);return e.push(o),{sum:l,dice:e}}var E=function(e){var t=function(e){return e.reduce(function(e,t){return e+t},0)},a=[];if("3d6"===e)for(var n=0;n<6;n++)a.push(b());else if("4d6 Drop Lowest"===e)for(n=0;n<6;n++)a.push(k());else if("Critical Role"===e)for(var r=0,o=[],l=0;;){for(n=0;n<6;n++)a.push(k()),o.push(a[n].sum);if(!((r=t(o))<70))break;if(console.log("Sum was "+r+". Re-rolling."),o=[],a=[],100===l){console.error("Error generating ability scores!                                This should not happen or should                                at least be very improbable");break}l++}else if("1d20"===e)for(n=0;n<6;n++)a.push(g());return a},y=function(){function e(){Object(s.a)(this,e),this.rolls={str:10,dex:11,con:12,int:13,wis:14,cha:15},this.hasChanged=!1}return Object(i.a)(e,[{key:"getRolls",value:function(){return this.rolls}},{key:"getRoll",value:function(e){return this.rolls[e]}},{key:"setRoll",value:function(e,t){this.rolls[e]=t,this.hasChanged=!0}},{key:"roll",value:function(e){for(var t=Object.keys(this.rolls),a=E(e),n=0;n<a.length;n++)this.rolls[t[n]]=a[n].sum}}]),e}();var S=function(){document.title="Stat Roller";var e=new y;return r.a.createElement(m,{appState:e})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.ab7d2f63.chunk.js.map